<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<link type="text/css" rel="stylesheet" href="http://hendri54.github.io/css/avenir-white.css"/>
	<meta name="author" content="Lutz Hendricks"/>
	<meta name="affiliation" content="http://www.unc.edu"/>
<a style="color: rgb(102, 102, 102);" href="http://www.lhendricks.org"><span
style="font-weight: bold;">Lutz Hendricks - UNC - Department of
Economics</span></a><link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript"  
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>

<h1 id="workingwithdata">Working With Data</h1>

<h2 id="datasteps">Data Steps</h2>

<ol>
<li>Read the data documenation.

<ol>
<li>You need to know how the data are structured, who was surveyed, limitations of the data, etc.</li>
<li>Assignment: Browse through the documenation for the Current Population Survey (CPS) <a href="https://cps.ipums.org/cps/documentation.shtml">here</a>. Also look at the <a href="https://cps.ipums.org/cps/samples.shtml">sample design</a>.</li>
</ol></li>
<li>Figure out the variables that you need.

<ol>
<li>Make sure you read the codebooks, especially if the sample design is complicated.</li>
<li>You need to know in which context the questions were asked and who was asked.</li>
<li>Assignment: Browse through the <a href="https://cps.ipums.org/cps/codebooks.shtml">CPS codebooks</a>.</li>
</ol></li>
<li>Download data, usually from some web site.</li>
<li>Convert data into the format you want.

<ol>
<li>Datasets usually come in odd formats, such as nondelimited ascii files.</li>
<li>Stats packages, such as <code>Stata</code> can often read those files (data sources often provide programs for this).</li>
<li><a href="http://www.stattransfer.com/">Stat/Transfer</a> can convert between data formats. Especially useful if you want to work in a <em>real</em> programming language rather than a stats package.</li>
</ol></li>
<li>Show summary statistics and distributions for all variables.

<ol>
<li>Check for implausible values, outliers, odd distributions (e.g., we would expect a wage distribution to look roughly log-Normal).</li>
<li>Look at time series plots. Investigate any suspicious jumps.</li>
</ol></li>
</ol>

<h2 id="whatcangowrong">What Can Go Wrong?</h2>

<ol>
<li>Not enough observations to get precise answers.

<ol>
<li>Example: The Brazilian census has &gt;1m observations, but only a few thousand immigrants.</li>
</ol></li>
<li>Questions and coding change over time.

<ol>
<li>Example: CPS records number of years of schooling until 1980s; then highest degree earned.</li>
</ol></li>
<li>Imputed responses (often not obvious).

<ol>
<li>Example: CPS imputes earnings for quite a few observations, but IPUMS does not tell you for which ones.</li>
</ol></li>
<li>Top coding, especially for dollar figures (income, wealth).</li>
<li>Samples are not representative.

<ol>
<li>Example: New Immigrant Survey only contains <em>Legal</em> permanent residents.</li>
<li>Almost all panel datasets omit most of the richest 1% (PSID, NLSY).</li>
</ol></li>
<li>Attrition in panel data (people drop out non-randomly over the years).</li>
</ol>

<h2 id="choosingsoftware">Choosing Software</h2>

<p>Stats packages, such as <code>Stata</code> are great at data handling. But their programming languages are a disaster.</p>

<p>Personally, I refuse to work in poorly designed scripting languages and use <code>Matlab</code> instead. This means that I cannot help you with <code>Stata</code> code (but your advisor likely can).</p>

<h2 id="tips">Tips</h2>

<ol>
<li>Write your code so that you can go from raw data to final results by running a single command without manual intervention. It&#8217;s the only way to ensure consistency.</li>
<li>Read the questionnaires. You need to know exactly what people were asked to understand their answers.

<ol>
<li>The questionnaire also reveals who is in the &#8220;universe&#8221; for a question (who was asked).</li>
</ol></li>
</ol>

<h2 id="links">Links</h2>

<ol>
<li><a href="http://web.stanford.edu/~gentzkow/research/CodeAndData.xhtml">Code and Data for the Social Sciences: A Practitioner&#8217;s Guide</a> by Gentzkow and Shapiro.</li>
</ol>

<hr />

</body>
</html>
